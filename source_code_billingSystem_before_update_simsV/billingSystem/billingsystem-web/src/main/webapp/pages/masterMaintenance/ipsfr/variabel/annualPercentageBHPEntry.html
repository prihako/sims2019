<html jwcid="@Shell" title="message:webapp.title">
<head>
<script src="../scripts/jquery-1.8.3.min.js"></script>
<script>
	function close_popup(){
		window.close();
	}
	function select_percentage(kmNo){
		window.opener.document.getElementById('bhpPercentage').value = kmNo;
		window.close();
	}
	
</script>
</head>
<body jwcid="@Body">
	<div id="outer" style="height: 50%">
		<form jwcid="@Form" delegate="ognl:beans.delegate"
			clientValidationEnabled="ognl:true">
			<span jwcid="@Hidden" value="ognl:notFirstLoad"></span>
			<div id="title">
				<span
					key="masterMaintenance.ipsfr.variabel.annualPercentageBHPEntry.title"></span>
			</div>
			<table width="50%" class="uniform">


				<tr>
					<td><label class="medium" jwcid="@FieldLabel"
						field="component:variableStatus"
						displayName="message:variable.annualPercentageBHPEntry.variableStatus.title"></label></td>
					<td><select style="width: 100px"
						jwcid="variableStatus@PropertySelection"
						model="ognl:getVariableStatusModel()" value="ognl:variableStatus">
					</select></td>
				</tr>

			</table>
			<!-- button action -->
			<div id="button">
				<input name="BTN_SEARCH" type="button" class="btn" id="BTN_SEARCH"
					jwcid="@Submit" action="listener:doSearch"
					onclick="this.form.onsubmit=null"
					value="message:button.masterMaintenance.ipsfr.license.search" /> <input
					name="BTN_CREATE" type="button" class="btn" id="BTN_CREATE"
					jwcid="@Submit" listener="listener:onCreate"
					value="message:button.masterMaintenance.ipsfr.license.create" />
					
					<script type="text/javascript">
						function callFunct(){
							if(window.opener != null && !window.opener.closed){
								document.write('<input type="button" class="btn" jwcid="@Submit" onclick="ognl:closePopup" value="Close" />');
							}
						}
					</script>
					
					<span jwcid="@If" condition="ognl:popupAnnual != null" >
						<script type="text/javascript">callFunct()</script>
					</span>
					
			</div>
			<!-- button -->



			<!-- Variable Detail Result -->
			<span jwcid="@If" condition="ognl:variableList!=null">
				<div id="box">
					<span jwcid="@contrib:TableView" pageSize="10"
						source="ognl:variableList"
						columns="!Thun,!KMNo,!Status">
						<table width="70%">
							<tr>
								<td align="right"><br /> <span jwcid="@TablePages" /></td>
							</tr>
							<tr>
								<td>
									<div id="conttable">
										<table border="0" class="data" width="99%">
											<tr>
												<th><span
													key="variable.annualPercentageBHPEntry.validFrom.title">Valid
														from</span></th>
												<th><span
													key="variable.annualPercentageBHPEntry.baseOnNote.title">Base
														On Note</span></th>
												<th><span
													key="variable.annualPercentageBHPEntry.variableStatus.title">Status</span></th>
<!-- 												<th><span>Action</span></th> -->

											</tr>

											<tr jwcid="@contrib:TableRows" row="ognl:row"
												class="ognl:beans.evenOdd.next">

												<td width="10%" align="center"><a href=""
													jwcid="@LinkSubmit" listener="listener:doEdit"
													parameters="ognl:{row.annualPercentId}"><span
														jwcid="@Insert" value="ognl:row.percentYear"></span></a></td>
												<td width="75%" align="left"><span jwcid="@Insert"
													value="ognl:row.kmNo"></span></td>
												<td width="15%" align="center"><span jwcid="@Insert"
													value="ognl:row.status"></span></td>
<!-- 												<td width="10%" align="left"> -->
<!-- 													<input class="btn" jwcid="@Submit" value="Pilih"  -->
<!-- 														onclick="myFunction(<span jwcid=@Insert value=ognl:row.kmNo />)" /> -->
<!-- 												</td> -->
											</tr>

										</table>
									</div>
								</td>
							</tr>
						</table>
					</span>
				</div>

			</span> <span jwcid="errorShadow@TextField" autocomplete="off"
				value="ognl:errorValue" style="display: none"></span> <span
				jwcid="@If" condition="ognl:delegate.hasErrors"> <script>
					alert('<span jwcid="@Delegator" delegate="ognl:delegate.firstError">Error Message</span>');
				</script>
			</span>


		</form>
	</div>
</body>
</html>